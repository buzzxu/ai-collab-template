# Example Tasks File
# 示例任务文件 - 复制此文件创建新模块
#
# 使用方法:
# 1. 复制此文件为 {module}.yaml (如 frontend.yaml)
# 2. 修改 module 和 repo 字段
# 3. 在 _schema.yaml 的 module_mapping 中添加映射
# 4. 根据需要调整 defaults 配置
# 5. 添加实际任务

version: "2.1"
module: example        # 修改为实际模块名
repo: my-project       # 修改为实际仓库名

# 模块级默认配置 (可被任务级覆盖)
defaults:
  implement_by: claude     # 默认实现者
  audit_by: gemini         # 默认审计者
  requires_audit: true     # 默认需要审计

tasks:
  # ============================================
  # Sprint 1 - 示例任务
  # ============================================

  EX-1.1:
    name: "示例任务 1"
    status: pending
    priority: P0
    assignee: null
    depends_on: []
    done_when:
      - type: file_exists
        path: "src/example.ts"
      - type: content_match
        file: "src/example.ts"
        pattern: "export"
    requires_audit: true
    # audit_by: gemini      # 可选: 覆盖模块默认
    created_at: 2026-01-01
    notes: "这是一个示例任务"

  EX-1.2:
    name: "示例任务 2 (依赖任务 1)"
    status: pending
    priority: P0
    assignee: null
    depends_on: [EX-1.1]    # 依赖 EX-1.1 完成
    done_when:
      - type: file_exists
        path: "src/example2.ts"
      - type: shell_check
        command: "pnpm type-check"
        expect: "exit_code:0"
    requires_audit: true
    created_at: 2026-01-01

  # ============================================
  # Backlog - P1 任务
  # ============================================

  EX-1.3:
    name: "示例任务 3 (低优先级)"
    status: pending
    priority: P1
    assignee: null
    depends_on: []
    done_when:
      - type: file_exists
        path: "docs/example.md"
    requires_audit: false   # 无需审计
    created_at: 2026-01-01

# ============================================
# 任务统计 (手动更新或由 /sync 生成)
# ============================================
# 总任务数: 3
# - completed: 0
# - pending: 3
# - P0: 2, P1: 1
